{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\loray\\\\OneDrive\\\\Documents\\\\Teste\\\\my-app\\\\src\\\\screens\\\\Details\\\\index.tsx\",\n  _this = this;\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport UserService from '../../services/userService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Details = function Details(_ref) {\n  var route = _ref.route;\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var userService = new UserService();\n  useEffect(function () {\n    var fetchUser = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var fetchedUser = yield userService.getUserById(route.params.userId);\n          if (fetchedUser != null && Array.isArray(fetchedUser)) {\n            setUser(fetchedUser[0]);\n          } else {\n            setError('Usuário não encontrado ' + route.params.userId + '.');\n          }\n        } catch (error) {\n          console.error('Erro ao buscar usuário:', error);\n          setError('Erro ao buscar usuário. Tente novamente mais tarde.');\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function fetchUser() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    fetchUser();\n  }, []);\n  return _jsxDEV(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    children: loading ? _jsxDEV(Text, {\n      children: \"Carregando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, _this) : error ? _jsxDEV(Text, {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, _this) : user && _jsxDEV(View, {\n      children: [_jsxDEV(Text, {\n        children: [\"Nome: \", user.username == null ? \"-\" : user.username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }, _this), _jsxDEV(Text, {\n        children: [\"Senha: \", user.password]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }, _this), _jsxDEV(Text, {\n        children: [\"Id: \", route.params.userId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, _this);\n};\nexport default Details;","map":{"version":3,"names":["React","useState","useEffect","View","Text","UserService","jsxDEV","_jsxDEV","Details","_ref","route","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","userService","fetchUser","_ref2","_asyncToGenerator","fetchedUser","getUserById","params","userId","Array","isArray","console","apply","arguments","style","flex","alignItems","justifyContent","children","fileName","_jsxFileName","lineNumber","columnNumber","_this","username","password"],"sources":["C:/Users/loray/OneDrive/Documents/Teste/my-app/src/screens/Details/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text } from 'react-native';\r\nimport UserService from '../../services/userService';\r\nimport { User } from '../../types/types';\r\nimport { StackRouteProp } from '../../routes/stack';\r\n\r\ntype DetailsScreenProps = {\r\n    route: StackRouteProp<'Details'>;\r\n};\r\n\r\nconst Details = ({ route }: DetailsScreenProps) => {\r\n    const [user, setUser] = useState<User>(); // Estado para armazenar os dados do usuário\r\n    const [loading, setLoading] = useState(true); // Estado para controlar o carregamento\r\n    const [error, setError] = useState<string | null>(null); // Estado para armazenar mensagens de erro\r\n    const userService = new UserService();\r\n\r\n    useEffect(() => {\r\n        \r\n        // Função assíncrona para buscar o usuário pelo ID\r\n        const fetchUser = async () => {\r\n            try {\r\n               \r\n                // Chamada ao método getUserById passando o ID do usuário desejado\r\n                const fetchedUser : User = await userService.getUserById(route.params.userId);\r\n                if (fetchedUser != null && Array.isArray(fetchedUser)) {                \r\n                    setUser(fetchedUser[0]); // Atualiza o estado com os dados do usuário obtidos   \r\n                } else {\r\n                    setError('Usuário não encontrado ' + route.params.userId+ '.'); // Define mensagem de erro\r\n                }\r\n            } catch (error) {\r\n                console.error('Erro ao buscar usuário:', error);\r\n                setError('Erro ao buscar usuário. Tente novamente mais tarde.'); // Define mensagem de erro\r\n            } finally {\r\n               // Define que o carregamento terminou\r\n               setLoading(false);\r\n            }\r\n        };\r\n\r\n        // Chamada da função para buscar o usuário quando o componente for montado\r\n        fetchUser();\r\n    }, []); // Passamos um array vazio como segundo argumento para useEffect para garantir que esta função seja executada apenas uma vez, quando o componente for montado\r\n\r\n    return (\r\n        <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\r\n            {loading ? (\r\n                <Text>Carregando...</Text>\r\n            ) : error ? (\r\n                <Text>{error}</Text>\r\n            ) : (\r\n                \r\n                user && (\r\n                    <View>\r\n                        <Text>Nome: {user.username == null ? \"-\" : user.username }</Text>\r\n                        <Text>Senha: {user.password}</Text>\r\n                        <Text>Id: {route.params.userId}</Text>\r\n                    </View>\r\n                )\r\n            )}\r\n        </View>\r\n    );\r\n};\r\n\r\nexport default Details;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}